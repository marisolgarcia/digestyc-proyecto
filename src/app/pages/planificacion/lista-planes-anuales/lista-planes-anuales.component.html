<p-toast position="bottom-center"></p-toast>

<div style="padding: 1rem">
  <div class="p-grid ui-fluid" style="padding:1rem;">
    <div class="p-col-6" style="padding:0;">
      <h1>Planes Anuales</h1>
    </div>
    <div class="p-col-6 group-right" style="padding:0;">
      <a class="layout-config-button" style="color: #008100;" (click)="crearDialog()"><i class="fa fa-plus-circle"></i></a>
      <a class="layout-config-button" style="color: #3E59AB;" (click)="filtrarDialog()"><i class="fa fa-search"></i></a>
    </div>
    <p-dialog header="Crear Plan Anual" [(visible)]="crear" [modal]="true" [baseZIndex]="10000">
      <div class="p-grid" style="padding-top:1rem;">
        <div class="p-col-12 p-md-12  ui-fluid">
          <div class="p-field p-grid">
            <label for="anio" class="p-col-fixed" style="width:100px">A単o:</label>
            <div class="p-col">
              <input id="anio" type="text" pInputText class="ui-inputtext ui-corner-all ui-state-default ui-widget">
            </div>
          </div>
        </div>
      </div>
      <p-footer>
        <div class="alignIzquierda">
          <button type="button" pButton (click)="showSuccessCrear()" label="Guardar"></button>
        </div>
      </p-footer>
    </p-dialog>

    <p-dialog header="Filtrar" [(visible)]="filtrar" [modal]="true" [baseZIndex]="10000" [contentStyle]="{'overflow':'visible'}">
      <div class="p-col-12 p-md-12  ui-fluid" style="padding-top:1rem; padding-bottom:2rem;">
        <div class="p-field p-grid">
          <label for="anioInicio" class="p-col-fixed" style="width:100px">A単o Inicio:</label>
          <div class="p-col">
            <input id="anioInicio" type="text" pInputText class="ui-inputtext ui-corner-all ui-state-default ui-widget">
          </div>
        </div>
        <div class="p-field p-grid">
          <label for="anioFin" class="p-col-fixed" style="width:100px">A単o Fin:</label>
          <div class="p-col">
            <input id="anioFin" type="text" pInputText class="ui-inputtext ui-corner-all ui-state-default ui-widget">
          </div>
        </div>
        <div class="p-field p-grid">
          <label for="estado" class="p-col-fixed" style="width:100px">Estado:</label>
          <div class="p-col">
            <p-dropdown inputId="estado" [options]="estado" placeholder="Seleccionar" optionLabel="name"></p-dropdown>
          </div>
        </div>
    </div>

    <p-footer>
      <div class="alignIzquierda">
        <button type="button" pButton (click)="filtrar=false" label="Filtrar"></button>
      </div>
    </p-footer>
  </p-dialog>
</div>

<hr>

<div class="p-grid" style="padding: 1rem">

<div class="p-col-12 p-md-6 p-lg-4  ui-fluid" *ngFor="let plan of planesAnuales">
  <p-card header="{{plan.anio}}"  styleClass="ui-card-shadow">
    <hr>
    <div class="p-field p-grid margen">
      <label for="estado" class="p-col-fixed" style="width:100px">Estado:</label>
      <div class="p-col" style="text-align:right">
        <label for="estado" class="p-col-fixed" style="width:100px">{{plan.estado}}</label>
      </div>
    </div>
    <div class="p-field p-grid margen">
      <label for="iniciativas" class="p-col-fixed" style="width:100px">Iniciativas:</label>
      <div class="p-col" style="text-align:right">
        <label for="estado" class="p-col-fixed" style="width:100px">{{plan.tIniciativas}}</label>
      </div>
    </div>
    <div class="p-field p-grid margen">
      <label for="actividades" class="p-col-fixed" style="width:100px">Actividades</label>
      <div class="p-col" style="text-align:right">
        <label for="estado" class="p-col-fixed" style="width:100px">{{plan.tActividades}}</label>
      </div>
    </div>
    <div class="margen" style="padding:0;">
      <a [routerLink]="['/iniciativasPlanAnual']" class="layout-config-button" style="color: #3E59AB;"><i class="fa fa-eye"></i></a>
      <a class="layout-config-button" style="color: #008100;" (click)="editarDialog()"><i class="fa fa-pencil-square"></i></a>
    </div>
  </p-card>
</div>

</div>

<p-dialog header="Editar Plan Anual" [(visible)]="editar" [modal]="true" [baseZIndex]="10000" [contentStyle]="{'overflow':'visible'}">
  <div class="p-grid" style="padding-top:1rem;">
    <div class="p-col-12 p-md-12  ui-fluid">
      <div class="p-field p-grid">
        <label for="anio" class="p-col-fixed" style="width:100px">A単o:</label>
        <div class="p-col">
          <input id="anio" [(ngModel)]="val" type="text" pInputText class="ui-inputtext ui-corner-all ui-state-default ui-widget">
        </div>
      </div>
      <div class="p-field p-grid">
        <label for="estado" class="p-col-fixed" style="width:100px">Estado:</label>
        <div class="p-col">
          <!--
          <p-dropdown inputId="state" [options]="states" [(ngModel)]="selectedState" placeholder="Select" optionLabel="name"></p-dropdown>
        -->
        <p-dropdown inputId="estado" [options]="estado" optionLabel="name" [(ngModel)]="selectedEstado"></p-dropdown>
      </div>
    </div>
    </div>
  </div>
  <p-footer>
    <div class="alignIzquierda">
      <button type="button" pButton (click)="showSuccessEditar()" label="Guardar"></button>
    </div>
  </p-footer>
</p-dialog>

</div>
